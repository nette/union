Zrušení výskytů Nette\Environment v kódu frameworku
***************************************************

Poznej svého nepřítele. .[perex]

Kromě tříd Environment a Configurator se třída Environment používá ve 27 případech (nepočítám use Nette\Environment).

Control (2)
-------

- "Doplnění proměnných do šablony":http://api.nette.org/2.0/source-Application.Control.php.html#69 (**"PULL request":https://github.com/nette/nette/pull/199**)

Presenter (6)
---------

- "Zjišťování appDiru (4)":http://api.nette.org/2.0/source-Application.Presenter.php.html#428
 - Setter na appDir.
 - $presenter->context->config->appDir nebo něco takového.
 - `PresenterFactory` tuto informaci nese jako `$baseDir` s předáním by neměl být problém
- "Nastavení invalidLinkMode, pokud není nastaven":http://api.nette.org/2.0/source-Application.Presenter.php.html#1004
 - Nastavovat důsledně zvenku. Pokud možno nestaticky. Pokud možno vytváření odkazů vyhodit z Presenteru. Ale to už zabíhám moc daleko :)
 - Nastavení prostředí (produkce/dev/...) by asi měl nést Config nebo spíš Aplication

Debug (2)
-----

- "Autodetekce módu":http://api.nette.org/2.0/source-Diagnostics.Debug.php.html#187
 - viz výše tohle by mohla řešit chytřejší obálka nad Configem nebo rovnou Application (stejně tak by asi měla Application převzít Environment::loadConfig() ale to už možná zabýhám daleko)

DebugHelpers (3)
------------

- Získání instance aplikace v metodě renderBlueScreen
 - Netušim k čemu to je, ta instance se k ničemu nepoužívá.

Form (2)
----

- Získání session
- Získání HttpRequest

HttpContext (2)
-----------

- Získání HttpRequest
- Získání HttpResponse

Session (2)
-------

- Získání HttpRequest
- Získání HttpResponse

User (3)
----

- Získání IAuthenticator
- Získání session

CachingHelper (1)
-------------

- Získání cache

LatteMacros (2)
-----------

- Makro status
- Makro contentType

AnnotationsParser (1)
-----------------

- Získání cache

FileTemplate (1)
------------

- Vytvoření cache storage, pokud není nastavena
