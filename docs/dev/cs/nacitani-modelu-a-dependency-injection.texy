Načítání modelu a Dependency Injection
**************************************

Náhrada dynamického načítání modelů (NotORM).



Připravíme
===

config.neon
---

/--neon
common:
	includes:
	- models.neon
\--



models.neon
---

/--neon

models: Nette\DI\NestedAccessor(@container, "models")
models.balance: Models\Balance # parametry přes autowiring
\--

BaseModel.php
---

/--php

//..


\--

Používáme
===


BasePresenter.php
---

Do `BasePresenteru` si přidáme zkratku, která nám **ušetří trochu psaní**: tedy místo `$this->context->models->pozadovanyModel` bude stačit `$this->models->pozadovanyModel`. Při neustálém používání modelů tuto zkratku oceníme.

/--php
/**
 * Models shortcut
 *
 * @return SystemContainer_models
 */
public function getModels()
{
	return $this->context->models;
}
\--

.[note]
Nezpomeňte k funkci *getModels* doplnit anotaci **@return**, nebo se připravíte o možnost automatického napovídání ze SystemContaineru.

MyPresenter.php
---

/--php
$results = $this->models->balance->fetchAll();
\--
